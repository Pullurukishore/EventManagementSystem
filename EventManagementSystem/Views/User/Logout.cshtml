@{
    ViewData["Title"] = "Logout";
}

<h2>Logout</h2>
<form id="logoutForm" method="post">
    <p>Are you sure you want to logout?</p>
    <button type="submit">Logout</button>
</form>

@section Scripts {
    <script>
        $(document).ready(function () {
            $('#logoutForm').submit(function (e) {
                e.preventDefault(); // Prevent default form submission

                $.ajax({
                    url: '/User/Logout',  // Make sure this is the correct URL
                    type: 'POST',
                    success: function (response) {
                        if (response.success) {
                            alert(response.message);  // Show success message
                            // Optionally reload or update UI here
                            location.reload();  // Reloads the page or you can do other UI updates
                        }
                    },
                    error: function () {
                        alert('Error logging out.');
                    }
                });
            });
        });
    </script>
}
